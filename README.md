empty-glacier-vault
==

This tool deletes all archives from a AWS Glacier vault based on the output
from the latest inventory. 

Usage
--
Requires Go toolchain to be installed. 

Create a AWS configuration profile with credentials with access to the following 
operations:
- `InitiateJob`
- `ListJobs`
- `GetJobOutput`
- `DeleteArchive`

The configuraiton can be created with the AWS CLI by running:
```sh
aws configure --profile $PROFILE_NAME
```
`$PROFILE_NAME` can be any value, or it can be omitted to configure the default profile.

This tool requires a recent inventory be generated. An inventory can be generated by running:
```sh
aws glacier initiate-job --region $REGION --profile $PROFILE_NAME --vault-name $VAULT_NAME --job-parameters '{"Type": "inventory-retrieval"}'
```

The inventory can then be deleted by this tool. Check out the source and run:
```sh
go run main.go --vault $VAULT_NAME --profile $PROFILE_NAME --region $REGION
```

